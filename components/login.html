<div id="login-view" class="fixed inset-0 z-50 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4">
    <!-- Background decoration -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-0 left-0 w-96 h-96 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"></div>
        <div class="absolute top-0 right-0 w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"></div>
        <div class="absolute bottom-0 left-1/2 w-96 h-96 bg-indigo-200 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-4000"></div>
    </div>

    <!-- Login Card -->
    <div class="relative bg-white/90 backdrop-blur-lg rounded-3xl shadow-2xl w-full max-w-md p-8 md:p-10 border border-white/20 transform transition-all duration-300 hover:scale-[1.02]">
        <!-- Logo & Header -->
        <div class="text-center mb-8">
            <div class="inline-flex items-center justify-center w-20 h-20 md:w-24 md:h-24 rounded-2xl bg-gradient-to-br from-blue-600 to-indigo-600 shadow-lg mb-6 transform transition-transform duration-300 hover:scale-110">
                <i class="fa-solid fa-car text-white text-3xl md:text-4xl"></i>
            </div>
            <h2 class="text-3xl md:text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent mb-2">
                Duyệt Giá Xe
            </h2>
            <p class="text-gray-600 text-sm md:text-base font-medium">Trương Thành Kiên Giang</p>
        </div>

        <!-- Login Form -->
        <form onsubmit="handleLogin(event)" class="space-y-5">
            <!-- Username Input -->
            <div class="relative group">
                <label class="block text-sm font-semibold text-gray-700 mb-2">
                    <i class="fa-solid fa-user mr-2 text-blue-600"></i>Tên đăng nhập
                </label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400 group-focus-within:text-blue-600 transition-colors">
                        <i class="fa-solid fa-user text-lg"></i>
                    </span>
                    <input 
                        type="text" 
                        id="login-user" 
                        class="w-full pl-12 pr-4 py-3.5 md:py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 text-sm md:text-base bg-white/50 backdrop-blur-sm" 
                        placeholder="Nhập tên đăng nhập" 
                        required
                        autocomplete="username"
                    >
                </div>
            </div>

            <!-- Password Input -->
            <div class="relative group">
                <label class="block text-sm font-semibold text-gray-700 mb-2">
                    <i class="fa-solid fa-lock mr-2 text-blue-600"></i>Mật khẩu
                </label>
                <div class="relative">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-4 text-gray-400 group-focus-within:text-blue-600 transition-colors">
                        <i class="fa-solid fa-lock text-lg"></i>
                    </span>
                    <input 
                        type="password" 
                        id="login-pass" 
                        class="w-full pl-12 pr-4 py-3.5 md:py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none transition-all duration-200 text-sm md:text-base bg-white/50 backdrop-blur-sm" 
                        placeholder="Nhập mật khẩu" 
                        required
                        autocomplete="current-password"
                    >
                </div>
            </div>

            <!-- Submit Button -->
            <button 
                type="submit" 
                id="btn-login" 
                class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-bold py-3.5 md:py-4 rounded-xl shadow-lg hover:shadow-xl transform transition-all duration-200 hover:scale-[1.02] active:scale-[0.98] text-base md:text-lg mt-6 relative overflow-hidden group"
            >
                <span class="relative z-10 flex items-center justify-center">
                    <i class="fa-solid fa-sign-in-alt mr-2"></i>
                    <span id="btn-login-text">Đăng Nhập</span>
                </span>
                <div class="absolute inset-0 bg-gradient-to-r from-indigo-600 to-blue-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200"></div>
            </button>
        </form>

        <!-- Footer -->
        <div class="mt-8 text-center">
            <p class="text-xs md:text-sm text-gray-500">
                <i class="fa-solid fa-shield-halved mr-1 text-green-500"></i>
                Phiên đăng nhập sẽ hết hạn sau 8 giờ
            </p>
        </div>
    </div>
</div>

<style>
@keyframes blob {
    0%, 100% {
        transform: translate(0, 0) scale(1);
    }
    33% {
        transform: translate(30px, -50px) scale(1.1);
    }
    66% {
        transform: translate(-20px, 20px) scale(0.9);
    }
}

.animate-blob {
    animation: blob 7s infinite;
}

.animation-delay-2000 {
    animation-delay: 2s;
}

.animation-delay-4000 {
    animation-delay: 4s;
}

/* Loading state for button */
#btn-login.loading {
    pointer-events: none;
    opacity: 0.7;
}

#btn-login.loading #btn-login-text::after {
    content: '...';
    animation: dots 1.5s steps(4, end) infinite;
}

@keyframes dots {
    0%, 20% { content: '.'; }
    40% { content: '..'; }
    60%, 100% { content: '...'; }
}
</style>

<script>
// Add loading state to login button
const originalHandleLogin = window.handleLogin;
if (typeof originalHandleLogin === 'function') {
    window.handleLogin = async function(e) {
        e.preventDefault();
        const btn = document.getElementById('btn-login');
        const btnText = document.getElementById('btn-login-text');
        
        if (btn) {
            btn.classList.add('loading');
            btn.disabled = true;
            const originalText = btnText.textContent;
            btnText.textContent = 'Đang đăng nhập';
        }
        
        try {
            await originalHandleLogin(e);
        } catch (error) {
            if (btn) {
                btn.classList.remove('loading');
                btn.disabled = false;
                if (btnText) btnText.textContent = originalText;
            }
        }
    };
}
</script>
